# HTTP

## 网络OSI七层模型
物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。

## 常见请求方式
- GET: 通常用来获取资源
- HEAD: 获取资源的元信息
- POST: 提交数据，即上传数据
- PUT: 修改数据
- DELETE: 删除资源(几乎用不到)
- CONNECT: 建立连接隧道，用于代理服务器
- OPTIONS: 列出可对资源实行的请求方法，用来跨域请求
- TRACE: 追踪请求-响应的传输路径

## Post 和 Get 的区别？
- 从缓存的角度，GET 请求会被浏览器主动缓存下来，留下历史记录，而 POST 默认不会。
- 从编码的角度，GET 只能进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制。
- 从参数的角度，GET 一般放在 URL 中，因此不安全，POST 放在请求体中，更适合传输敏感信息。
- 从幂等性的角度，GET是幂等的，而POST不是。(幂等表示执行相同的操作，结果也是相同的)
- 从TCP的角度，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发 header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST 请求只发一个 TCP 包)

## 常见的状态码以及含义
- 1XX: 表示目前是协议处理的临时状态，还需要后续操作。
  - 101 Switching Protocols。在HTTP升级为WebSocket的时候，如果服务器同意变更，就会发送状态码 101。
- 2XX 成功
  - 200 OK，表示从客户端发来的请求在服务器端被正确处理
  - 204 No content，表示请求成功，但响应报文不含实体的主体部分
  - 205 Reset Content，表示请求成功，但响应报文不含实体的主体部分，但是与 204 响应不同在于要求请求方重置内容
  - 206 Partial Content，进行范围请求
- 3XX 重定向
  - 301 moved permanently，永久性重定向，表示资源已被分配了新的 URL
  - 302 found，临时性重定向，表示资源临时被分配了新的 URL
  - 303 see other，表示资源存在着另一个 URL，应使用 GET 方法获取资源
  - 304 not modified，表示服务器允许访问资源，但因发生请求未满足条件的情况
  - 307 temporary redirect，临时重定向，和302含义类似，但是期望客户端保持请求方法不变向新的地址发出请求
- 4XX 客户端错误
  - 400 bad request，请求报文存在语法错误
  - 401 unauthorized，表示发送的请求需要有通过 HTTP 认证的认证信息
  - 403 forbidden，表示对请求资源的访问被服务器拒绝: 表示目前是协议处理的中间状态，还需要后续操作。
  - 404 not found，表示在服务器上没有找到请求的资源
- 5XX 服务器错误
  - 500 internal sever error，表示服务器端在执行请求时发生了错误
  - 501 Not Implemented，表示服务器不支持当前请求所需要的某个功能
  - 503 service unavailable，表明服务器暂时处于超负载或正在停机维护，无法处理请求


## 谈谈你对HTTP报文的了解
- 请求报文
  - 起始行 + 头部 + 空行 + 实体
    - 起始行：GET /home HTTP/1.1
    - 也就是方法 + 路径 + http版本
- 响应报文
  - 起始行：HTTP/1.1 200 OK
  - 由http版本、状态码和原因三部分组成
- 空行，用来区分开头部和实体
- 实体，就是具体的数据，也就是body部分，请求报文对应请求体, 响应报文对应响应体


## 谈谈HTTP/2.0新特性
- 头部压缩  
  - 用HPACK技术压缩头部，减小报文大小
- 多路复用
  - 无需多个TCP连接，因为其允许在单一的HTTP2连接上发起多重请求，因此可以不用依赖建立多个TCP连接。
- 二进制分帧
  - 将所有要传输的消息采用二进制编码，并且会将信息分割为更小的消息块。
- 服务端推送
  - 服务端可以在客户端发起请求前发送数据，换句话说，服务端可以对客户端的一个请求发送多个相应，并且资源可以正常缓存。

## HTTP和HTTPS有何区别？
- https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
- http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
- http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
- http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

## HTTPS是如何进行加密的？
- 客户端发起HTTPS请求。
- 服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。
- 客户端与服务器开始协商SSL连接的安全等级，也就是信息加密的等级。
- 根据双方同意的安全等级，建立会话密钥。
- 之后服务器与客户端利用公钥和私钥通信。

## TCP和UDP的区别
- 是否连接：TCP面向连接，UDP无连接；
- 是否可靠：TCP是可靠的，使用流量控制和拥塞控制；UDP是不可靠的，不使用流量控制和拥塞控制；
- 连接对象个数：TCP只能是一对一通信；UDP支持一对一，一对多，多对一和多对多交互通信；
- 传输方式：TCP面向字节流；UDP面向报文；
- 首部开销：TCP首部最小20字节，最大60字节；UDP首部开销小，仅8字节；
- 适用场景：TCP适用于要求可靠传输的，比如文件传输；UDP适用于实时应用，比如IP电话，视频会议，直播等。

## 谈谈TLS/SSL
- TLS：(Transport Layer Security，传输层安全协议)，用于两个应用程序之间提供保密性和数据完整性。
- SSL：（Secure Socket Layer，安全套接字层），位于可靠的面向连接的网络层协议和应用层协议之间的一种协议层。SSL通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯。
- SSL协议即用到了对称加密也用到了非对称加密(公钥加密)，在建立传输链路时，SSL首先对对称加密的密钥使用公钥进行非对称加密，链路建立好之后，SSL对传输内容使用对称加密。
- Server 端决定使用 TLS 版本及加密套件。整个握手过程，client 端生成2个随机数，server 端生成1个随机数，一共3个随机数。前两个未加密，第三个使用服务端公钥加密。最终的会话密钥来自这3个随机数。整个 SSL/TLS 握手过程几乎都是明文。
